قم بترتيب هذه البيانات لتسهل علي القراءة وحط سطور جديد 

{"transcript_clean":"hello and welcome back to the rails Quest Channel I'm Caleb LPE and today I'm going to show you how to move a time-consuming API call from the controller to a background job now we're going to get into why you would want to do this as I go about the process but right now let me show you the application so that you know what we're going to do today so I've been kicking the tires with rails 8 and it's been truly impressive it's been a joy to use so far let me just show you with very little to know JavaScript what I've been able to accomplished so far so it's a typical to-do to-do list app kind of like the hello world of building a ra a rails application or any kind of web application for that matter but here's here's how it works I mean it's nothing too groundbreaking but it is cool that this doesn't need hardly any JavaScript this is using rails 8 with the latest version of Turbo to update the Dom seamlessly these are when I click this there's a little bit of JavaScript that submits a form and that's about all it does and there's a little bit of JavaScript that shows and hides this notification and there's a little bit of JavaScript here to show a text field instead of the text there but these are tiny little sprinkles of JavaScript to make this all work it's been awesome so far so let me show you what this app does it's not just your typical to-do list you see it's called chat to-do and here's why we can go to chat GPT and ask it to create a to-do list for us so I call these ramble because you can just ramble to it and it will create an organized to-do list for you what we were just playing with was the result of this actual text so let's create a to-do list now you'll notice we're making an API call to chat GPT and there's a little bit of a delay there's a delay in the rendering of the page so we're we can't do anything about the amount of time it takes for chat GPT to give us a response but we can do something about our apps responsiveness and I'm going to show you how to do that in just a moment so you can see chat GPT cre created to-do list with sections grab an umbrella before heading out uh you can go grocery shopping get all this stuff that we mentioned go to the library and return a book all right so that's pretty neat and let's let's make it better so here's the plan for our implementation we're going to instead of redirecting directly to this to-do list when we create a to-do list we're going to redirect to an intermediary page that's going to show uh some sort of loading indicator and then from there we're going to be redirected to this to-do list when it's ready so that way it frees up the controller to continue serving responses for other people we're not using up a thread there and the you get a page back quickly and the user has something to look at to know that it's not just stuck or Frozen They're not going to spam the refresh button okay let's get to the code let's start with the ramble results controller test so when we create a ramble result we want to redirect to a different spot we want to redirect to a ramble we'll we'll get to the assertion about ining a job in just a moment so I'm going to keep this test skipped for now we're going to go down to create and see what's going on under the hood so here's where we generate the to-do list so what do we need to change about this controller in order to start moving in the direction that I said well first of all we've got the test I'm going to com comment out generating the actual to-do list for now and you're going to see that there's actually a failure here the error is uninitialized constant result and that's because we're passing in an incompatible result type here so let's fix this up real quick we don't need the ramble ID in the pams these are mostly just the tests that are generated by rail scaffold this is all brand new stuff so yeah result ID we're not using that either we'll go down to the result prams definition we're actually only accept accepting a result type right now we're going to use that type to create the actual to-do list so we can still create a result now I'm expecting to see a different error forgot to change this to um too list count did change by one but by zero okay let's switch over to the test log take a look at why unprocessable content so let's take a look at ramle result model I have a feeling that that's the reason why even though I don't see the actual error so we have a not null constraint um migration result ID so we're going to relax that constraint and we shouldn't see a database error anymore for this cannot redirect to nil okay that's that's more along the lines what I was expecting so we're going to redirect to the ramble result itself um ramble result there we go oh yeah so now we have a passing test and we can take a look in the browser and see that this is the case all right so so far so good now we get to decide what we want to do next how about since we already have this page let's go to show and we're going to we're going to have a condition if ramble result is present then we're going to link to else get rid of all that stuff cool no I like what I have better sometimes the AI doesn't make good choices let's keep it simple so it's going to show loading and then if there is a ramble result it's going to show view all right now we need to let's go ahead and create that job what are we going to call this to-do list generator to-do list generator or yeah naming conventions generate to-do list okay so let's take a look at um how we want to let's take a look at how we want to implement this in the controller at ramble result. generate to-do list later okay so that's going to generate to-do list job perform lator self Okay so we're going to expect a ramble result and that's basically the process to move this generate to-do list line from the controller into the background job you can see this line is exactly the same there's probably more we could do to make it cleaner but I'm just going to leave it this way for now because this is an incremental step toward uh something a little bit better right so now when we create a to-do list it will when we create a ramble result it will inq a job which uh solid Q will run at a later time right hopefully pretty soon and then whenever it runs it's going to assign the generate to-do list to the result all right so let's go back to our ramble and let's create a to-do list forgot to save that is a good point loading okay so far so good so what we're going to show now is a loading indicator right very basic one and if I refresh take a look at our development log oh I know we were depending on Save before so now we need to add the save to this so we just generated to to-do list and didn't save them to the result so now we've en cued let's take a look at it it looks like generate to-do list job ran and succeeded and now we have a button to go and view our to-do list that's pretty neat and I think we can do even a little bit better so let's take another step and this is actually something I'm excited about because it's a it's a rails 8 sort of a a new to Turbo and rails 8 so we're going to take a look at the docks for this real quick you can add you can add a turbo stream from before we do anything with that let's let's look at the to-do uh not the ramble results show page we're going to ramble result okay is that going to do anything well let's check it out create a to-do list oh sometimes AIS are more troubled than they're worth huh okay create to-do list loading nothing's happening okay so it did not update I had to click I had to hit um refresh to make that happen so this is a little bit tricky because at least to my eyes it was not documented anywhere except here in the code so turbo broadcastable is automatically included when you have active job present in your application so if you've enabled active job then you have this turbo broadcastable concern mixed into your models well what does that get us what it gets us is this convenient helper broadcast refreshes so at its most simple and you can see it's just there's nothing special going on here it's just a vanilla rails app and this is some new rails magic so let's see what that got us if anything create a to-do list so nothing happened let's take a look at y so we have the sign stream name and we are connected it did apparently broadcast but it's possible that oh creates updates creates updates and destroys to a stream name derived at runtime by stream in invocation okay all I had to do was restart the rails application I'm not sure how long I'd had it running but it had been a while and it has been running since long before I started this stream so now we have this whole functionality tied together so you can see we can go to a ramble we create a to-do list when it's ready we have a link to view the result so what I do to change this in the future is maybe I would make add a little bit of JavaScript to go ahead and when we create that to-do list go ahead and navigate to the to-do list automatically instead of having the user need to click on it to go go see it cuz obviously that's all they're waiting for here but this was live coded okay um there's more tests that I could do there's more there's definitely some more that we could do here but this is me implementing this for the first time and I just wanted to show you how easy it can be we ran into a couple little wrinkles along the way where I had some typos uh I let the autocomplete AI maybe get a little bit ahead of itself but all in all this is a great experience for learning for the first time how to uh broadcast refreshes so let's recap very quickly you can broadcast anything that happens to this record and all you do is you put this little tag in your view that you want to update based on that record and turbo handles the rest it's all magic it's all behind the scenes uh it's happens over a web socket it pushes uh these refreshes directly to you and it automatically changes only what it needs to change in your browser to make this totally seamless so it looks like it all happened in your browser but really it was your typical rail setup so you get the benefits of everything you know about rails applying in this situation with the awesome user experience that just a little bit of JavaScript Pizzaz can afford so with that I think I'm going to leave you with this to chew on and uh let me know if you'd like to see more things like this in the future a little bit more live coding a little bit more exploratory a little bit B more uh risky in that you know this could have gone any number of ways if it didn't work out but it did work out and I hope to see you next time and I will see you next time or at least more likely if you like this video And subscribe follow me uh wherever you're at follow me on Twitter follow me on uh subscribe on YouTube and uh you have a beautiful rest of your day","transcript_with_time":[{"start":0.04,"duration":3.96,"text":"hello and welcome back to the rails"},{"start":1.959,"duration":3.88,"text":"Quest Channel I'm Caleb LPE and today"},{"start":4.0,"duration":5.12,"text":"I'm going to show you how to move a"},{"start":5.839,"duration":5.72,"text":"time-consuming API call from the"},{"start":9.12,"duration":3.92,"text":"controller to a background job now we're"},{"start":11.559,"duration":4.24,"text":"going to get into why you would want to"},{"start":13.04,"duration":4.6,"text":"do this as I go about the process but"},{"start":15.799,"duration":3.4,"text":"right now let me show you the"},{"start":17.64,"duration":3.32,"text":"application so that you know what we're"},{"start":19.199,"duration":4.361,"text":"going to do today so I've been kicking"},{"start":20.96,"duration":4.88,"text":"the tires with rails 8 and it's been"},{"start":23.56,"duration":4.16,"text":"truly impressive it's been a joy to use"},{"start":25.84,"duration":3.679,"text":"so far let me just show you with very"},{"start":27.72,"duration":3.959,"text":"little to know JavaScript what I've been"},{"start":29.519,"duration":4.36,"text":"able to accomplished so far so it's a"},{"start":31.679,"duration":4.481,"text":"typical to-do to-do list app kind of"},{"start":33.879,"duration":4.241,"text":"like the hello world of building a ra a"},{"start":36.16,"duration":3.84,"text":"rails application or any kind of web"},{"start":38.12,"duration":3.439,"text":"application for that matter but here's"},{"start":40.0,"duration":4.52,"text":"here's how it works I mean it's nothing"},{"start":41.559,"duration":5.441,"text":"too groundbreaking but it is cool that"},{"start":44.52,"duration":4.76,"text":"this doesn't need hardly any JavaScript"},{"start":47.0,"duration":5.079,"text":"this is using rails 8 with the latest"},{"start":49.28,"duration":5.0,"text":"version of Turbo to update the Dom"},{"start":52.079,"duration":3.761,"text":"seamlessly these are when I click this"},{"start":54.28,"duration":3.32,"text":"there's a little bit of JavaScript that"},{"start":55.84,"duration":2.879,"text":"submits a form and that's about all it"},{"start":57.6,"duration":3.919,"text":"does and there's a little bit of"},{"start":58.719,"duration":4.721,"text":"JavaScript that shows and hides this"},{"start":61.519,"duration":5.561,"text":"notification and there's a little bit of"},{"start":63.44,"duration":6.359,"text":"JavaScript here to show a text field"},{"start":67.08,"duration":5.8,"text":"instead of the text"},{"start":69.799,"duration":5.161,"text":"there but these are tiny little"},{"start":72.88,"duration":4.279,"text":"sprinkles of JavaScript to make this all"},{"start":74.96,"duration":4.56,"text":"work it's been awesome so far so let me"},{"start":77.159,"duration":4.441,"text":"show you what this app does it's not"},{"start":79.52,"duration":4.48,"text":"just your typical to-do list you see"},{"start":81.6,"duration":5.6,"text":"it's called chat to-do and here's why we"},{"start":84.0,"duration":5.52,"text":"can go to chat GPT and ask it to create"},{"start":87.2,"duration":4.559,"text":"a to-do list for us so I call these"},{"start":89.52,"duration":4.239,"text":"ramble because you can just ramble to it"},{"start":91.759,"duration":3.64,"text":"and it will create an organized to-do"},{"start":93.759,"duration":4.481,"text":"list for you what we were just playing"},{"start":95.399,"duration":4.441,"text":"with was the result of this actual text"},{"start":98.24,"duration":4.04,"text":"so let's create a to-do list now you'll"},{"start":99.84,"duration":4.48,"text":"notice we're making an API call to chat"},{"start":102.28,"duration":3.839,"text":"GPT and there's a little bit of a delay"},{"start":104.32,"duration":4.159,"text":"there's a delay in the rendering of the"},{"start":106.119,"duration":4.64,"text":"page so we're we can't do anything about"},{"start":108.479,"duration":4.28,"text":"the amount of time it takes for chat GPT"},{"start":110.759,"duration":4.801,"text":"to give us a response but we can do"},{"start":112.759,"duration":4.04,"text":"something about our apps responsiveness"},{"start":115.56,"duration":4.0,"text":"and I'm going to show you how to do that"},{"start":116.799,"duration":5.401,"text":"in just a moment so you can see chat GPT"},{"start":119.56,"duration":5.12,"text":"cre created to-do list with sections"},{"start":122.2,"duration":4.879,"text":"grab an umbrella before heading out uh"},{"start":124.68,"duration":3.799,"text":"you can go grocery shopping get all this"},{"start":127.079,"duration":3.281,"text":"stuff that we mentioned go to the"},{"start":128.479,"duration":3.281,"text":"library and return a book all right so"},{"start":130.36,"duration":3.599,"text":"that's pretty neat and let's let's make"},{"start":131.76,"duration":4.839,"text":"it better so here's the plan for our"},{"start":133.959,"duration":5.28,"text":"implementation we're going to instead of"},{"start":136.599,"duration":4.521,"text":"redirecting directly to this to-do list"},{"start":139.239,"duration":3.961,"text":"when we create a to-do list we're going"},{"start":141.12,"duration":4.0,"text":"to redirect to an intermediary page"},{"start":143.2,"duration":4.039,"text":"that's going to show uh some sort of"},{"start":145.12,"duration":4.0,"text":"loading indicator and then from there"},{"start":147.239,"duration":4.28,"text":"we're going to be redirected to this"},{"start":149.12,"duration":4.16,"text":"to-do list when it's ready so that way"},{"start":151.519,"duration":3.761,"text":"it frees up the controller to continue"},{"start":153.28,"duration":4.36,"text":"serving responses for other people we're"},{"start":155.28,"duration":5.0,"text":"not using up a thread there and the you"},{"start":157.64,"duration":4.08,"text":"get a page back quickly and the user has"},{"start":160.28,"duration":3.2,"text":"something to look at to know that it's"},{"start":161.72,"duration":5.04,"text":"not just stuck or Frozen They're not"},{"start":163.48,"duration":6.72,"text":"going to spam the refresh"},{"start":166.76,"duration":5.96,"text":"button okay let's get to the"},{"start":170.2,"duration":5.72,"text":"code let's start"},{"start":172.72,"duration":8.08,"text":"with the ramble results controller test"},{"start":175.92,"duration":7.12,"text":"so when we create a ramble result"},{"start":180.8,"duration":6.68,"text":"we want to redirect to a different spot"},{"start":183.04,"duration":4.44,"text":"we want to redirect to a"},{"start":191.2,"duration":6.16,"text":"ramble we'll we'll get to the assertion"},{"start":193.879,"duration":6.561,"text":"about ining a job in just a moment so"},{"start":197.36,"duration":6.12,"text":"I'm going to keep this test skipped for"},{"start":200.44,"duration":5.0,"text":"now we're going to go down to create and"},{"start":203.48,"duration":5.2,"text":"see what's going on under the hood so"},{"start":205.44,"duration":5.56,"text":"here's where we generate the to-do list"},{"start":208.68,"duration":4.839,"text":"so what do we need to change about this"},{"start":211.0,"duration":4.2,"text":"controller in order to start moving in"},{"start":213.519,"duration":3.601,"text":"the direction that I said well first of"},{"start":215.2,"duration":4.28,"text":"all we've got the test I'm going to com"},{"start":217.12,"duration":3.64,"text":"comment out generating the actual to-do"},{"start":219.48,"duration":4.36,"text":"list for"},{"start":220.76,"duration":6.199,"text":"now and you're going to see that there's"},{"start":223.84,"duration":3.119,"text":"actually a failure"},{"start":228.319,"duration":6.0,"text":"here the error is uninitialized constant"},{"start":238.12,"duration":6.8,"text":"result and that's because we're passing"},{"start":241.12,"duration":7.679,"text":"in an incompatible result type"},{"start":244.92,"duration":7.92,"text":"here so let's fix this up real"},{"start":248.799,"duration":6.36,"text":"quick we don't need the ramble ID in the"},{"start":252.84,"duration":5.16,"text":"pams these are mostly just the tests"},{"start":255.159,"duration":5.881,"text":"that are generated by rail scaffold this"},{"start":258.0,"duration":6.12,"text":"is all brand new stuff so yeah result ID"},{"start":261.04,"duration":3.08,"text":"we're not using that"},{"start":264.16,"duration":5.56,"text":"either we'll go down to the result prams"},{"start":267.72,"duration":4.0,"text":"definition we're actually only accept"},{"start":269.72,"duration":4.64,"text":"accepting a result type right now we're"},{"start":271.72,"duration":4.16,"text":"going to use that type to create the"},{"start":274.36,"duration":6.0,"text":"actual to-do"},{"start":275.88,"duration":4.48,"text":"list so we can still create a"},{"start":280.639,"duration":4.761,"text":"result now I'm expecting to see a"},{"start":282.919,"duration":2.481,"text":"different"},{"start":286.88,"duration":7.4,"text":"error forgot to change this to um too"},{"start":297.72,"duration":8.479,"text":"list count did change by one but by"},{"start":302.6,"duration":6.0,"text":"zero okay let's switch over"},{"start":306.199,"duration":6.201,"text":"to the test"},{"start":308.6,"duration":6.64,"text":"log take a look at"},{"start":312.4,"duration":7.48,"text":"why unprocessable"},{"start":315.24,"duration":6.04,"text":"content so let's take a look at ramle"},{"start":319.88,"duration":3.599,"text":"result"},{"start":321.28,"duration":4.359,"text":"model I have a feeling that that's the"},{"start":323.479,"duration":4.041,"text":"reason why even though I don't see the"},{"start":325.639,"duration":4.441,"text":"actual error so we have a not null"},{"start":327.52,"duration":5.56,"text":"constraint"},{"start":330.08,"duration":3.0,"text":"um"},{"start":341.84,"duration":3.76,"text":"migration result"},{"start":351.8,"duration":5.839,"text":"ID so we're going to"},{"start":354.4,"duration":3.239,"text":"relax that"},{"start":357.96,"duration":5.4,"text":"constraint and we shouldn't see a"},{"start":361.08,"duration":4.399,"text":"database error anymore for this cannot"},{"start":363.36,"duration":4.92,"text":"redirect to nil okay that's that's more"},{"start":365.479,"duration":7.201,"text":"along the lines what I was"},{"start":368.28,"duration":8.919,"text":"expecting so we're going to redirect"},{"start":372.68,"duration":4.519,"text":"to the ramble result"},{"start":384.0,"duration":7.56,"text":"itself um ramble"},{"start":387.72,"duration":3.84,"text":"result there we go"},{"start":399.4,"duration":3.0,"text":"oh"},{"start":403.28,"duration":6.08,"text":"yeah so now we have a passing"},{"start":407.08,"duration":6.519,"text":"test and we can take a look in the"},{"start":409.36,"duration":8.119,"text":"browser and see that this is the"},{"start":413.599,"duration":7.081,"text":"case all right so so far so good now we"},{"start":417.479,"duration":5.0,"text":"get to decide what we want to do next"},{"start":420.68,"duration":4.48,"text":"how about since we already have this"},{"start":422.479,"duration":6.44,"text":"page let's go to"},{"start":425.16,"duration":3.759,"text":"show and we're going"},{"start":429.039,"duration":6.921,"text":"to we're going to have a"},{"start":432.36,"duration":6.239,"text":"condition if ramble result is"},{"start":435.96,"duration":6.12,"text":"present then we're going"},{"start":438.599,"duration":3.481,"text":"to link"},{"start":443.4,"duration":4.0,"text":"to else"},{"start":454.479,"duration":4.361,"text":"get rid of all that stuff"},{"start":460.52,"duration":4.679,"text":"cool no I like what I have better"},{"start":463.759,"duration":3.361,"text":"sometimes the AI doesn't make good"},{"start":465.199,"duration":3.72,"text":"choices let's keep it simple so it's"},{"start":467.12,"duration":3.919,"text":"going to show loading and then if there"},{"start":468.919,"duration":6.4,"text":"is a ramble result it's going to show"},{"start":471.039,"duration":4.28,"text":"view all right now we need"},{"start":475.72,"duration":7.96,"text":"to let's go ahead and create that"},{"start":481.0,"duration":4.199,"text":"job what are we going to call this to-do"},{"start":483.68,"duration":7.32,"text":"list"},{"start":485.199,"duration":11.44,"text":"generator to-do list generator or yeah"},{"start":491.0,"duration":5.639,"text":"naming conventions generate to-do"},{"start":500.68,"duration":6.079,"text":"list"},{"start":503.159,"duration":8.281,"text":"okay so let's take a look at"},{"start":506.759,"duration":4.681,"text":"um how we want to"},{"start":513.8,"duration":5.119,"text":"let's take a look at how we want to"},{"start":515.44,"duration":3.479,"text":"implement this in the"},{"start":519.64,"duration":4.4,"text":"controller at"},{"start":521.68,"duration":3.88,"text":"ramble"},{"start":524.04,"duration":5.72,"text":"result."},{"start":525.56,"duration":8.04,"text":"generate to-do list"},{"start":529.76,"duration":3.84,"text":"later okay so that's going"},{"start":533.959,"duration":7.161,"text":"to generate to-do list job perform lator"},{"start":537.88,"duration":5.72,"text":"self Okay so we're going to expect a"},{"start":541.12,"duration":2.48,"text":"ramble"},{"start":545.959,"duration":6.481,"text":"result and that's basically the process"},{"start":549.839,"duration":3.841,"text":"to move this generate to-do list line"},{"start":552.44,"duration":4.24,"text":"from the"},{"start":553.68,"duration":4.88,"text":"controller into the background job you"},{"start":556.68,"duration":3.12,"text":"can see this line is exactly the same"},{"start":558.56,"duration":2.6,"text":"there's probably more we could do to"},{"start":559.8,"duration":2.96,"text":"make it cleaner but I'm just going to"},{"start":561.16,"duration":3.679,"text":"leave it this way for now because this"},{"start":562.76,"duration":4.0,"text":"is an incremental step toward uh"},{"start":564.839,"duration":4.881,"text":"something a little bit better right so"},{"start":566.76,"duration":5.28,"text":"now when we create a to-do list it will"},{"start":569.72,"duration":5.88,"text":"when we create a ramble result it will"},{"start":572.04,"duration":5.72,"text":"inq a job which uh solid Q will run at a"},{"start":575.6,"duration":4.2,"text":"later time right hopefully pretty soon"},{"start":577.76,"duration":4.519,"text":"and then whenever it runs it's going to"},{"start":579.8,"duration":5.32,"text":"assign the generate to-do list to the"},{"start":582.279,"duration":6.481,"text":"result all right so let's go back to our"},{"start":585.12,"duration":3.64,"text":"ramble and let's create a to-do"},{"start":589.48,"duration":4.919,"text":"list forgot to save that is a good"},{"start":596.88,"duration":6.56,"text":"point loading okay so far so good so"},{"start":601.56,"duration":4.56,"text":"what we're going to show now is a"},{"start":603.44,"duration":5.16,"text":"loading indicator right very basic one"},{"start":606.12,"duration":2.48,"text":"and if I"},{"start":611.24,"duration":4.24,"text":"refresh take a look at our development"},{"start":619.56,"duration":7.68,"text":"log oh I know we were depending on Save"},{"start":624.36,"duration":5.52,"text":"before so now we need to add the save to"},{"start":627.24,"duration":4.839,"text":"this so we just generated to to-do list"},{"start":629.88,"duration":4.36,"text":"and didn't save them to the result so"},{"start":632.079,"duration":5.76,"text":"now we've en cued let's take a look at"},{"start":634.24,"duration":6.36,"text":"it it looks like generate to-do list job"},{"start":637.839,"duration":5.961,"text":"ran and succeeded and now we have a"},{"start":640.6,"duration":4.96,"text":"button to go and view our to-do list"},{"start":643.8,"duration":3.839,"text":"that's pretty neat and I think we can do"},{"start":645.56,"duration":4.32,"text":"even a little bit better so let's take"},{"start":647.639,"duration":4.161,"text":"another step and this is actually"},{"start":649.88,"duration":5.04,"text":"something I'm excited about because it's"},{"start":651.8,"duration":6.52,"text":"a it's a rails 8 sort of a a new to"},{"start":654.92,"duration":6.479,"text":"Turbo and rails 8 so we're going to take"},{"start":658.32,"duration":6.84,"text":"a look at the docks for this real"},{"start":661.399,"duration":6.201,"text":"quick you can add you can add a turbo"},{"start":665.16,"duration":2.44,"text":"stream"},{"start":667.76,"duration":8.879,"text":"from before we do anything with that"},{"start":671.6,"duration":8.44,"text":"let's let's look at the to-do uh not the"},{"start":676.639,"duration":7.561,"text":"ramble results show"},{"start":680.04,"duration":7.56,"text":"page we're going to ramble"},{"start":684.2,"duration":6.439,"text":"result okay is that going to do anything"},{"start":687.6,"duration":5.88,"text":"well let's check it out"},{"start":690.639,"duration":2.841,"text":"create a to-do"},{"start":698.959,"duration":5.241,"text":"list"},{"start":701.839,"duration":6.601,"text":"oh sometimes AIS are more troubled than"},{"start":704.2,"duration":7.6,"text":"they're worth huh okay create to-do list"},{"start":708.44,"duration":5.68,"text":"loading nothing's happening okay so it"},{"start":711.8,"duration":5.839,"text":"did not update I had to click I had to"},{"start":714.12,"duration":6.24,"text":"hit um refresh to make that happen so"},{"start":717.639,"duration":7.681,"text":"this is a little bit tricky because at"},{"start":720.36,"duration":7.76,"text":"least to my eyes it was not documented"},{"start":725.32,"duration":5.319,"text":"anywhere except here in the code so"},{"start":728.12,"duration":5.12,"text":"turbo broadcastable is automatically"},{"start":730.639,"duration":4.361,"text":"included when you have active job"},{"start":733.24,"duration":3.8,"text":"present in your application so if you've"},{"start":735.0,"duration":4.839,"text":"enabled active job then you have this"},{"start":737.04,"duration":4.72,"text":"turbo broadcastable concern mixed into"},{"start":739.839,"duration":5.44,"text":"your models well what does that get us"},{"start":741.76,"duration":6.519,"text":"what it gets us is this convenient"},{"start":745.279,"duration":3.0,"text":"helper"},{"start":753.56,"duration":6.0,"text":"broadcast refreshes so at its most"},{"start":760.68,"duration":4.959,"text":"simple and you can see it's just there's"},{"start":763.32,"duration":5.319,"text":"nothing special going on here it's just"},{"start":765.639,"duration":5.64,"text":"a vanilla rails app and this is some new"},{"start":768.639,"duration":5.121,"text":"rails magic so let's see what that got"},{"start":771.279,"duration":5.081,"text":"us if"},{"start":773.76,"duration":4.96,"text":"anything create a to-do"},{"start":776.36,"duration":4.24,"text":"list so nothing happened let's take a"},{"start":778.72,"duration":5.4,"text":"look at"},{"start":780.6,"duration":5.799,"text":"y so we have the sign stream name and we"},{"start":784.12,"duration":2.279,"text":"are"},{"start":795.8,"duration":4.12,"text":"connected it did apparently"},{"start":806.56,"duration":4.56,"text":"broadcast but it's possible that"},{"start":819.199,"duration":4.921,"text":"oh creates updates creates updates and"},{"start":821.839,"duration":7.761,"text":"destroys to a stream name derived at"},{"start":824.12,"duration":5.48,"text":"runtime by stream in invocation"},{"start":857.8,"duration":4.44,"text":"okay all I had to do was restart the"},{"start":859.88,"duration":4.8,"text":"rails application I'm not sure how long"},{"start":862.24,"duration":4.92,"text":"I'd had it running but it had been a"},{"start":864.68,"duration":5.24,"text":"while and it has been running since long"},{"start":867.16,"duration":5.119,"text":"before I started this stream so"},{"start":869.92,"duration":5.279,"text":"now we have this whole"},{"start":872.279,"duration":5.721,"text":"functionality tied together so you can"},{"start":875.199,"duration":4.0,"text":"see we can go to a ramble we create a"},{"start":878.0,"duration":3.68,"text":"to-do"},{"start":879.199,"duration":4.921,"text":"list when it's ready we have a link to"},{"start":881.68,"duration":4.92,"text":"view the result so what I do to change"},{"start":884.12,"duration":4.24,"text":"this in the future is maybe I would make"},{"start":886.6,"duration":4.72,"text":"add a little bit of"},{"start":888.36,"duration":5.08,"text":"JavaScript to go ahead and when we"},{"start":891.32,"duration":4.68,"text":"create that to-do list go ahead and"},{"start":893.44,"duration":5.04,"text":"navigate to the to-do list automatically"},{"start":896.0,"duration":4.079,"text":"instead of having the user need to click"},{"start":898.48,"duration":3.56,"text":"on it to go go see it cuz obviously"},{"start":900.079,"duration":4.921,"text":"that's all they're waiting for here but"},{"start":902.04,"duration":5.08,"text":"this was live coded okay um there's more"},{"start":905.0,"duration":3.92,"text":"tests that I could do there's more"},{"start":907.12,"duration":4.12,"text":"there's definitely some more that we"},{"start":908.92,"duration":4.479,"text":"could do here but this is me"},{"start":911.24,"duration":4.279,"text":"implementing this for the first time and"},{"start":913.399,"duration":3.761,"text":"I just wanted to show you how easy it"},{"start":915.519,"duration":3.721,"text":"can be we ran into a couple little"},{"start":917.16,"duration":5.84,"text":"wrinkles along the way where I had some"},{"start":919.24,"duration":5.64,"text":"typos uh I let the autocomplete AI maybe"},{"start":923.0,"duration":4.279,"text":"get a little bit ahead of itself but all"},{"start":924.88,"duration":4.92,"text":"in all this is a great experience for"},{"start":927.279,"duration":4.961,"text":"learning for the first time how to uh"},{"start":929.8,"duration":4.719,"text":"broadcast refreshes so let's recap very"},{"start":932.24,"duration":5.279,"text":"quickly you can broadcast anything that"},{"start":934.519,"duration":5.361,"text":"happens to this record and all you do is"},{"start":937.519,"duration":3.841,"text":"you put this little tag in your view"},{"start":939.88,"duration":3.92,"text":"that you want to update based on that"},{"start":941.36,"duration":5.8,"text":"record and turbo handles the rest it's"},{"start":943.8,"duration":6.279,"text":"all magic it's all behind the scenes uh"},{"start":947.16,"duration":5.479,"text":"it's happens over a web socket it pushes"},{"start":950.079,"duration":4.88,"text":"uh these refreshes directly to you and"},{"start":952.639,"duration":4.721,"text":"it automatically changes only what it"},{"start":954.959,"duration":5.281,"text":"needs to change in your browser to make"},{"start":957.36,"duration":4.719,"text":"this totally seamless so it looks like"},{"start":960.24,"duration":4.719,"text":"it all happened in your browser but"},{"start":962.079,"duration":4.601,"text":"really it was your typical rail setup so"},{"start":964.959,"duration":4.32,"text":"you get the benefits of everything you"},{"start":966.68,"duration":5.0,"text":"know about rails applying in this"},{"start":969.279,"duration":4.761,"text":"situation with the awesome user"},{"start":971.68,"duration":5.24,"text":"experience that just a little bit of"},{"start":974.04,"duration":5.56,"text":"JavaScript Pizzaz can afford so with"},{"start":976.92,"duration":5.56,"text":"that I think I'm going to leave you with"},{"start":979.6,"duration":4.599,"text":"this to chew on and uh let me know if"},{"start":982.48,"duration":3.799,"text":"you'd like to see more things like this"},{"start":984.199,"duration":4.361,"text":"in the future a little bit more live"},{"start":986.279,"duration":4.92,"text":"coding a little bit more exploratory a"},{"start":988.56,"duration":4.279,"text":"little bit B more uh risky in that you"},{"start":991.199,"duration":3.64,"text":"know this could have gone any number of"},{"start":992.839,"duration":4.56,"text":"ways if it didn't work out but it did"},{"start":994.839,"duration":4.641,"text":"work out and I hope to see you next time"},{"start":997.399,"duration":4.68,"text":"and I will see you next time or at least"},{"start":999.48,"duration":5.0,"text":"more likely if you like this video And"},{"start":1002.079,"duration":4.56,"text":"subscribe follow me uh wherever you're"},{"start":1004.48,"duration":4.719,"text":"at follow me on Twitter follow me on uh"},{"start":1006.639,"duration":6.32,"text":"subscribe on YouTube and uh you have a"},{"start":1009.199,"duration":3.76,"text":"beautiful rest of your day"}],"ai_summary_clean":{"summarize_ai":"**List of Main Topics Covered:**\n\n1. Introduction and Motivation for Moving API Calls to Background Jobs\n2. Implementing Job Queuing with Active Job and Turbo Broadcastable\n3. Using Turbo Broadcastable for Real-Time Updates\n4. Broadcastable Concerns and Stream Names in Turbo\n5. Recap of Background Job Implementation and Benefits\n\n**Detailed Summary:**\n\n**1. Introduction and Motivation for Moving API Calls to Background Jobs - [00:00]**\n   - API calls can delay page rendering, affecting user experience.\n   - Moving time-consuming API calls to background jobs frees up the controller for other tasks, improving responsiveness.\n\n**2. Implementing Job Queuing with Active Job and Turbo Broadcastable - [02:55]**\n   - Create a job class (e.g., GenerateTodoListJob) to handle the API call and generate the to-do list.\n   - Use Active Job to enqueue the job using `perform_later`.\n   - Pass the relevant data (e.g., ramble result) as arguments to the job.\n   - Update the controller to enqueue the job instead of directly generating the to-do list.\n\n**3. Using Turbo Broadcastable for Real-Time Updates - [10:50]**\n   - Turbo Broadcastable is automatically included with Active Job.\n   - Use `broadcast_refresh` to send real-time updates to the client.\n   - Create a `ramble_results#show` Turbo Stream and specify the stream name.\n   - Restart the Rails application to enable the broadcast functionality.\n\n**4. Broadcastable Concerns and Stream Names in Turbo - [16:05]**\n   - Turbo Broadcastable automatically derives the stream name based on the model and action.\n   - Stream names are used to identify which clients should receive the updates.\n   - Use `broadcast_refresh` to automatically update the specified Turbo Stream.\n\n**5. Recap of Background Job Implementation and Benefits - [21:05]**\n   - Summarize the implementation process:\n     - Enqueue a job in the controller to delay the API call.\n     - Use Turbo Broadcastable to send updates to the client when the job completes.\n   - Highlight the benefits:\n     - Improved user experience with a loading indicator and seamless updates.\n     - Increased responsiveness by freeing up the controller for other tasks.\n     - Integration with Rails 8 and Turbo for a modern and efficient workflow.\n\n**Roadmap of Concepts:**\n\n1. **Background Jobs:** Asynchronous tasks that can be executed separately from the main application.\n2. **Active Job:** A Ruby gem for creating and managing background jobs.\n3. **Job Queuing:** Managing a pool of jobs that the system processes in order.\n4. **Turbo Broadcastable:** A Rails concern that allows models to broadcast changes to clients via Turbo Streams.\n5. **Turbo Streams:** Real-time updates sent over a WebSocket connection, allowing for seamless page updates."},"ai_summary_with_time":{"summarize_ai":"**List of Main Topics Covered:**\n\n1. **Background Jobs:** Moving time-consuming tasks from controllers to background jobs.\n2. **Turbo Stream:** Using Turbo Stream to broadcast changes to the DOM.\n\n**Detailed Summary:**\n\n**Topic 1: Background Jobs** - Starts at minute [0:11]\n\n- Moving API calls from the controller to a background job frees up the controller, improving the responsiveness of the application.\n- Benefits of using background jobs include reducing page loading time, preventing browser lockups, and improving the user experience.\n- Implementation involves creating a background job, a worker class, and updating the controller to schedule the job.\n\n**Topic 2: Turbo Stream** - Starts at minute [14:17]\n\n- Turbo Stream provides a convenient way to update DOM elements when using background jobs.\n- To use Turbo Stream, include the `turbo-broadcastable` concern in the model, add a `data-turbo-stream` attribute to the element that needs to be updated, and use the `broadcast_refresh` helper to trigger the update.\n- Advantages of using Turbo Stream include seamless updates without page refreshes, real-time data synchronization, and improved user experience.\n\n**Sources and References:**\n\n- [Rails Background Jobs Documentation](https://edgeguides.rubyonrails.org/active_job_basics.html)\n- [Turbo Stream Documentation](https://turbo.hotwired.dev/handbook/streams)\n\n**Roadmap of Concepts:**\n\n1. Background job architecture: Controller -\u003e Background job -\u003e Worker\n2. Turbo Stream workflow: Model -\u003e Turbo Stream -\u003e DOM updates\n3. Use cases for background jobs: Long-running tasks, resource-intensive operations, asynchronous tasks\n4. Advantages of using Turbo Stream: Real-time updates, improved user experience, seamless data synchronization"},"raw_transcript":[{"start":0.04,"duration":3.96,"text":"hello and welcome back to the rails"},{"start":1.959,"duration":3.88,"text":"Quest Channel I'm Caleb LPE and today"},{"start":4.0,"duration":5.12,"text":"I'm going to show you how to move a"},{"start":5.839,"duration":5.72,"text":"time-consuming API call from the"},{"start":9.12,"duration":3.92,"text":"controller to a background job now we're"},{"start":11.559,"duration":4.24,"text":"going to get into why you would want to"},{"start":13.04,"duration":4.6,"text":"do this as I go about the process but"},{"start":15.799,"duration":3.4,"text":"right now let me show you the"},{"start":17.64,"duration":3.32,"text":"application so that you know what we're"},{"start":19.199,"duration":4.361,"text":"going to do today so I've been kicking"},{"start":20.96,"duration":4.88,"text":"the tires with rails 8 and it's been"},{"start":23.56,"duration":4.16,"text":"truly impressive it's been a joy to use"},{"start":25.84,"duration":3.679,"text":"so far let me just show you with very"},{"start":27.72,"duration":3.959,"text":"little to know JavaScript what I've been"},{"start":29.519,"duration":4.36,"text":"able to accomplished so far so it's a"},{"start":31.679,"duration":4.481,"text":"typical to-do to-do list app kind of"},{"start":33.879,"duration":4.241,"text":"like the hello world of building a ra a"},{"start":36.16,"duration":3.84,"text":"rails application or any kind of web"},{"start":38.12,"duration":3.439,"text":"application for that matter but here's"},{"start":40.0,"duration":4.52,"text":"here's how it works I mean it's nothing"},{"start":41.559,"duration":5.441,"text":"too groundbreaking but it is cool that"},{"start":44.52,"duration":4.76,"text":"this doesn't need hardly any JavaScript"},{"start":47.0,"duration":5.079,"text":"this is using rails 8 with the latest"},{"start":49.28,"duration":5.0,"text":"version of Turbo to update the Dom"},{"start":52.079,"duration":3.761,"text":"seamlessly these are when I click this"},{"start":54.28,"duration":3.32,"text":"there's a little bit of JavaScript that"},{"start":55.84,"duration":2.879,"text":"submits a form and that's about all it"},{"start":57.6,"duration":3.919,"text":"does and there's a little bit of"},{"start":58.719,"duration":4.721,"text":"JavaScript that shows and hides this"},{"start":61.519,"duration":5.561,"text":"notification and there's a little bit of"},{"start":63.44,"duration":6.359,"text":"JavaScript here to show a text field"},{"start":67.08,"duration":5.8,"text":"instead of the text"},{"start":69.799,"duration":5.161,"text":"there but these are tiny little"},{"start":72.88,"duration":4.279,"text":"sprinkles of JavaScript to make this all"},{"start":74.96,"duration":4.56,"text":"work it's been awesome so far so let me"},{"start":77.159,"duration":4.441,"text":"show you what this app does it's not"},{"start":79.52,"duration":4.48,"text":"just your typical to-do list you see"},{"start":81.6,"duration":5.6,"text":"it's called chat to-do and here's why we"},{"start":84.0,"duration":5.52,"text":"can go to chat GPT and ask it to create"},{"start":87.2,"duration":4.559,"text":"a to-do list for us so I call these"},{"start":89.52,"duration":4.239,"text":"ramble because you can just ramble to it"},{"start":91.759,"duration":3.64,"text":"and it will create an organized to-do"},{"start":93.759,"duration":4.481,"text":"list for you what we were just playing"},{"start":95.399,"duration":4.441,"text":"with was the result of this actual text"},{"start":98.24,"duration":4.04,"text":"so let's create a to-do list now you'll"},{"start":99.84,"duration":4.48,"text":"notice we're making an API call to chat"},{"start":102.28,"duration":3.839,"text":"GPT and there's a little bit of a delay"},{"start":104.32,"duration":4.159,"text":"there's a delay in the rendering of the"},{"start":106.119,"duration":4.64,"text":"page so we're we can't do anything about"},{"start":108.479,"duration":4.28,"text":"the amount of time it takes for chat GPT"},{"start":110.759,"duration":4.801,"text":"to give us a response but we can do"},{"start":112.759,"duration":4.04,"text":"something about our apps responsiveness"},{"start":115.56,"duration":4.0,"text":"and I'm going to show you how to do that"},{"start":116.799,"duration":5.401,"text":"in just a moment so you can see chat GPT"},{"start":119.56,"duration":5.12,"text":"cre created to-do list with sections"},{"start":122.2,"duration":4.879,"text":"grab an umbrella before heading out uh"},{"start":124.68,"duration":3.799,"text":"you can go grocery shopping get all this"},{"start":127.079,"duration":3.281,"text":"stuff that we mentioned go to the"},{"start":128.479,"duration":3.281,"text":"library and return a book all right so"},{"start":130.36,"duration":3.599,"text":"that's pretty neat and let's let's make"},{"start":131.76,"duration":4.839,"text":"it better so here's the plan for our"},{"start":133.959,"duration":5.28,"text":"implementation we're going to instead of"},{"start":136.599,"duration":4.521,"text":"redirecting directly to this to-do list"},{"start":139.239,"duration":3.961,"text":"when we create a to-do list we're going"},{"start":141.12,"duration":4.0,"text":"to redirect to an intermediary page"},{"start":143.2,"duration":4.039,"text":"that's going to show uh some sort of"},{"start":145.12,"duration":4.0,"text":"loading indicator and then from there"},{"start":147.239,"duration":4.28,"text":"we're going to be redirected to this"},{"start":149.12,"duration":4.16,"text":"to-do list when it's ready so that way"},{"start":151.519,"duration":3.761,"text":"it frees up the controller to continue"},{"start":153.28,"duration":4.36,"text":"serving responses for other people we're"},{"start":155.28,"duration":5.0,"text":"not using up a thread there and the you"},{"start":157.64,"duration":4.08,"text":"get a page back quickly and the user has"},{"start":160.28,"duration":3.2,"text":"something to look at to know that it's"},{"start":161.72,"duration":5.04,"text":"not just stuck or Frozen They're not"},{"start":163.48,"duration":6.72,"text":"going to spam the refresh"},{"start":166.76,"duration":5.96,"text":"button okay let's get to the"},{"start":170.2,"duration":5.72,"text":"code let's start"},{"start":172.72,"duration":8.08,"text":"with the ramble results controller test"},{"start":175.92,"duration":7.12,"text":"so when we create a ramble result"},{"start":180.8,"duration":6.68,"text":"we want to redirect to a different spot"},{"start":183.04,"duration":4.44,"text":"we want to redirect to a"},{"start":191.2,"duration":6.16,"text":"ramble we'll we'll get to the assertion"},{"start":193.879,"duration":6.561,"text":"about ining a job in just a moment so"},{"start":197.36,"duration":6.12,"text":"I'm going to keep this test skipped for"},{"start":200.44,"duration":5.0,"text":"now we're going to go down to create and"},{"start":203.48,"duration":5.2,"text":"see what's going on under the hood so"},{"start":205.44,"duration":5.56,"text":"here's where we generate the to-do list"},{"start":208.68,"duration":4.839,"text":"so what do we need to change about this"},{"start":211.0,"duration":4.2,"text":"controller in order to start moving in"},{"start":213.519,"duration":3.601,"text":"the direction that I said well first of"},{"start":215.2,"duration":4.28,"text":"all we've got the test I'm going to com"},{"start":217.12,"duration":3.64,"text":"comment out generating the actual to-do"},{"start":219.48,"duration":4.36,"text":"list for"},{"start":220.76,"duration":6.199,"text":"now and you're going to see that there's"},{"start":223.84,"duration":3.119,"text":"actually a failure"},{"start":228.319,"duration":6.0,"text":"here the error is uninitialized constant"},{"start":238.12,"duration":6.8,"text":"result and that's because we're passing"},{"start":241.12,"duration":7.679,"text":"in an incompatible result type"},{"start":244.92,"duration":7.92,"text":"here so let's fix this up real"},{"start":248.799,"duration":6.36,"text":"quick we don't need the ramble ID in the"},{"start":252.84,"duration":5.16,"text":"pams these are mostly just the tests"},{"start":255.159,"duration":5.881,"text":"that are generated by rail scaffold this"},{"start":258.0,"duration":6.12,"text":"is all brand new stuff so yeah result ID"},{"start":261.04,"duration":3.08,"text":"we're not using that"},{"start":264.16,"duration":5.56,"text":"either we'll go down to the result prams"},{"start":267.72,"duration":4.0,"text":"definition we're actually only accept"},{"start":269.72,"duration":4.64,"text":"accepting a result type right now we're"},{"start":271.72,"duration":4.16,"text":"going to use that type to create the"},{"start":274.36,"duration":6.0,"text":"actual to-do"},{"start":275.88,"duration":4.48,"text":"list so we can still create a"},{"start":280.639,"duration":4.761,"text":"result now I'm expecting to see a"},{"start":282.919,"duration":2.481,"text":"different"},{"start":286.88,"duration":7.4,"text":"error forgot to change this to um too"},{"start":297.72,"duration":8.479,"text":"list count did change by one but by"},{"start":302.6,"duration":6.0,"text":"zero okay let's switch over"},{"start":306.199,"duration":6.201,"text":"to the test"},{"start":308.6,"duration":6.64,"text":"log take a look at"},{"start":312.4,"duration":7.48,"text":"why unprocessable"},{"start":315.24,"duration":6.04,"text":"content so let's take a look at ramle"},{"start":319.88,"duration":3.599,"text":"result"},{"start":321.28,"duration":4.359,"text":"model I have a feeling that that's the"},{"start":323.479,"duration":4.041,"text":"reason why even though I don't see the"},{"start":325.639,"duration":4.441,"text":"actual error so we have a not null"},{"start":327.52,"duration":5.56,"text":"constraint"},{"start":330.08,"duration":3.0,"text":"um"},{"start":341.84,"duration":3.76,"text":"migration result"},{"start":351.8,"duration":5.839,"text":"ID so we're going to"},{"start":354.4,"duration":3.239,"text":"relax that"},{"start":357.96,"duration":5.4,"text":"constraint and we shouldn't see a"},{"start":361.08,"duration":4.399,"text":"database error anymore for this cannot"},{"start":363.36,"duration":4.92,"text":"redirect to nil okay that's that's more"},{"start":365.479,"duration":7.201,"text":"along the lines what I was"},{"start":368.28,"duration":8.919,"text":"expecting so we're going to redirect"},{"start":372.68,"duration":4.519,"text":"to the ramble result"},{"start":384.0,"duration":7.56,"text":"itself um ramble"},{"start":387.72,"duration":3.84,"text":"result there we go"},{"start":399.4,"duration":3.0,"text":"oh"},{"start":403.28,"duration":6.08,"text":"yeah so now we have a passing"},{"start":407.08,"duration":6.519,"text":"test and we can take a look in the"},{"start":409.36,"duration":8.119,"text":"browser and see that this is the"},{"start":413.599,"duration":7.081,"text":"case all right so so far so good now we"},{"start":417.479,"duration":5.0,"text":"get to decide what we want to do next"},{"start":420.68,"duration":4.48,"text":"how about since we already have this"},{"start":422.479,"duration":6.44,"text":"page let's go to"},{"start":425.16,"duration":3.759,"text":"show and we're going"},{"start":429.039,"duration":6.921,"text":"to we're going to have a"},{"start":432.36,"duration":6.239,"text":"condition if ramble result is"},{"start":435.96,"duration":6.12,"text":"present then we're going"},{"start":438.599,"duration":3.481,"text":"to link"},{"start":443.4,"duration":4.0,"text":"to else"},{"start":454.479,"duration":4.361,"text":"get rid of all that stuff"},{"start":460.52,"duration":4.679,"text":"cool no I like what I have better"},{"start":463.759,"duration":3.361,"text":"sometimes the AI doesn't make good"},{"start":465.199,"duration":3.72,"text":"choices let's keep it simple so it's"},{"start":467.12,"duration":3.919,"text":"going to show loading and then if there"},{"start":468.919,"duration":6.4,"text":"is a ramble result it's going to show"},{"start":471.039,"duration":4.28,"text":"view all right now we need"},{"start":475.72,"duration":7.96,"text":"to let's go ahead and create that"},{"start":481.0,"duration":4.199,"text":"job what are we going to call this to-do"},{"start":483.68,"duration":7.32,"text":"list"},{"start":485.199,"duration":11.44,"text":"generator to-do list generator or yeah"},{"start":491.0,"duration":5.639,"text":"naming conventions generate to-do"},{"start":500.68,"duration":6.079,"text":"list"},{"start":503.159,"duration":8.281,"text":"okay so let's take a look at"},{"start":506.759,"duration":4.681,"text":"um how we want to"},{"start":513.8,"duration":5.119,"text":"let's take a look at how we want to"},{"start":515.44,"duration":3.479,"text":"implement this in the"},{"start":519.64,"duration":4.4,"text":"controller at"},{"start":521.68,"duration":3.88,"text":"ramble"},{"start":524.04,"duration":5.72,"text":"result."},{"start":525.56,"duration":8.04,"text":"generate to-do list"},{"start":529.76,"duration":3.84,"text":"later okay so that's going"},{"start":533.959,"duration":7.161,"text":"to generate to-do list job perform lator"},{"start":537.88,"duration":5.72,"text":"self Okay so we're going to expect a"},{"start":541.12,"duration":2.48,"text":"ramble"},{"start":545.959,"duration":6.481,"text":"result and that's basically the process"},{"start":549.839,"duration":3.841,"text":"to move this generate to-do list line"},{"start":552.44,"duration":4.24,"text":"from the"},{"start":553.68,"duration":4.88,"text":"controller into the background job you"},{"start":556.68,"duration":3.12,"text":"can see this line is exactly the same"},{"start":558.56,"duration":2.6,"text":"there's probably more we could do to"},{"start":559.8,"duration":2.96,"text":"make it cleaner but I'm just going to"},{"start":561.16,"duration":3.679,"text":"leave it this way for now because this"},{"start":562.76,"duration":4.0,"text":"is an incremental step toward uh"},{"start":564.839,"duration":4.881,"text":"something a little bit better right so"},{"start":566.76,"duration":5.28,"text":"now when we create a to-do list it will"},{"start":569.72,"duration":5.88,"text":"when we create a ramble result it will"},{"start":572.04,"duration":5.72,"text":"inq a job which uh solid Q will run at a"},{"start":575.6,"duration":4.2,"text":"later time right hopefully pretty soon"},{"start":577.76,"duration":4.519,"text":"and then whenever it runs it's going to"},{"start":579.8,"duration":5.32,"text":"assign the generate to-do list to the"},{"start":582.279,"duration":6.481,"text":"result all right so let's go back to our"},{"start":585.12,"duration":3.64,"text":"ramble and let's create a to-do"},{"start":589.48,"duration":4.919,"text":"list forgot to save that is a good"},{"start":596.88,"duration":6.56,"text":"point loading okay so far so good so"},{"start":601.56,"duration":4.56,"text":"what we're going to show now is a"},{"start":603.44,"duration":5.16,"text":"loading indicator right very basic one"},{"start":606.12,"duration":2.48,"text":"and if I"},{"start":611.24,"duration":4.24,"text":"refresh take a look at our development"},{"start":619.56,"duration":7.68,"text":"log oh I know we were depending on Save"},{"start":624.36,"duration":5.52,"text":"before so now we need to add the save to"},{"start":627.24,"duration":4.839,"text":"this so we just generated to to-do list"},{"start":629.88,"duration":4.36,"text":"and didn't save them to the result so"},{"start":632.079,"duration":5.76,"text":"now we've en cued let's take a look at"},{"start":634.24,"duration":6.36,"text":"it it looks like generate to-do list job"},{"start":637.839,"duration":5.961,"text":"ran and succeeded and now we have a"},{"start":640.6,"duration":4.96,"text":"button to go and view our to-do list"},{"start":643.8,"duration":3.839,"text":"that's pretty neat and I think we can do"},{"start":645.56,"duration":4.32,"text":"even a little bit better so let's take"},{"start":647.639,"duration":4.161,"text":"another step and this is actually"},{"start":649.88,"duration":5.04,"text":"something I'm excited about because it's"},{"start":651.8,"duration":6.52,"text":"a it's a rails 8 sort of a a new to"},{"start":654.92,"duration":6.479,"text":"Turbo and rails 8 so we're going to take"},{"start":658.32,"duration":6.84,"text":"a look at the docks for this real"},{"start":661.399,"duration":6.201,"text":"quick you can add you can add a turbo"},{"start":665.16,"duration":2.44,"text":"stream"},{"start":667.76,"duration":8.879,"text":"from before we do anything with that"},{"start":671.6,"duration":8.44,"text":"let's let's look at the to-do uh not the"},{"start":676.639,"duration":7.561,"text":"ramble results show"},{"start":680.04,"duration":7.56,"text":"page we're going to ramble"},{"start":684.2,"duration":6.439,"text":"result okay is that going to do anything"},{"start":687.6,"duration":5.88,"text":"well let's check it out"},{"start":690.639,"duration":2.841,"text":"create a to-do"},{"start":698.959,"duration":5.241,"text":"list"},{"start":701.839,"duration":6.601,"text":"oh sometimes AIS are more troubled than"},{"start":704.2,"duration":7.6,"text":"they're worth huh okay create to-do list"},{"start":708.44,"duration":5.68,"text":"loading nothing's happening okay so it"},{"start":711.8,"duration":5.839,"text":"did not update I had to click I had to"},{"start":714.12,"duration":6.24,"text":"hit um refresh to make that happen so"},{"start":717.639,"duration":7.681,"text":"this is a little bit tricky because at"},{"start":720.36,"duration":7.76,"text":"least to my eyes it was not documented"},{"start":725.32,"duration":5.319,"text":"anywhere except here in the code so"},{"start":728.12,"duration":5.12,"text":"turbo broadcastable is automatically"},{"start":730.639,"duration":4.361,"text":"included when you have active job"},{"start":733.24,"duration":3.8,"text":"present in your application so if you've"},{"start":735.0,"duration":4.839,"text":"enabled active job then you have this"},{"start":737.04,"duration":4.72,"text":"turbo broadcastable concern mixed into"},{"start":739.839,"duration":5.44,"text":"your models well what does that get us"},{"start":741.76,"duration":6.519,"text":"what it gets us is this convenient"},{"start":745.279,"duration":3.0,"text":"helper"},{"start":753.56,"duration":6.0,"text":"broadcast refreshes so at its most"},{"start":760.68,"duration":4.959,"text":"simple and you can see it's just there's"},{"start":763.32,"duration":5.319,"text":"nothing special going on here it's just"},{"start":765.639,"duration":5.64,"text":"a vanilla rails app and this is some new"},{"start":768.639,"duration":5.121,"text":"rails magic so let's see what that got"},{"start":771.279,"duration":5.081,"text":"us if"},{"start":773.76,"duration":4.96,"text":"anything create a to-do"},{"start":776.36,"duration":4.24,"text":"list so nothing happened let's take a"},{"start":778.72,"duration":5.4,"text":"look at"},{"start":780.6,"duration":5.799,"text":"y so we have the sign stream name and we"},{"start":784.12,"duration":2.279,"text":"are"},{"start":795.8,"duration":4.12,"text":"connected it did apparently"},{"start":806.56,"duration":4.56,"text":"broadcast but it's possible that"},{"start":819.199,"duration":4.921,"text":"oh creates updates creates updates and"},{"start":821.839,"duration":7.761,"text":"destroys to a stream name derived at"},{"start":824.12,"duration":5.48,"text":"runtime by stream in invocation"},{"start":857.8,"duration":4.44,"text":"okay all I had to do was restart the"},{"start":859.88,"duration":4.8,"text":"rails application I'm not sure how long"},{"start":862.24,"duration":4.92,"text":"I'd had it running but it had been a"},{"start":864.68,"duration":5.24,"text":"while and it has been running since long"},{"start":867.16,"duration":5.119,"text":"before I started this stream so"},{"start":869.92,"duration":5.279,"text":"now we have this whole"},{"start":872.279,"duration":5.721,"text":"functionality tied together so you can"},{"start":875.199,"duration":4.0,"text":"see we can go to a ramble we create a"},{"start":878.0,"duration":3.68,"text":"to-do"},{"start":879.199,"duration":4.921,"text":"list when it's ready we have a link to"},{"start":881.68,"duration":4.92,"text":"view the result so what I do to change"},{"start":884.12,"duration":4.24,"text":"this in the future is maybe I would make"},{"start":886.6,"duration":4.72,"text":"add a little bit of"},{"start":888.36,"duration":5.08,"text":"JavaScript to go ahead and when we"},{"start":891.32,"duration":4.68,"text":"create that to-do list go ahead and"},{"start":893.44,"duration":5.04,"text":"navigate to the to-do list automatically"},{"start":896.0,"duration":4.079,"text":"instead of having the user need to click"},{"start":898.48,"duration":3.56,"text":"on it to go go see it cuz obviously"},{"start":900.079,"duration":4.921,"text":"that's all they're waiting for here but"},{"start":902.04,"duration":5.08,"text":"this was live coded okay um there's more"},{"start":905.0,"duration":3.92,"text":"tests that I could do there's more"},{"start":907.12,"duration":4.12,"text":"there's definitely some more that we"},{"start":908.92,"duration":4.479,"text":"could do here but this is me"},{"start":911.24,"duration":4.279,"text":"implementing this for the first time and"},{"start":913.399,"duration":3.761,"text":"I just wanted to show you how easy it"},{"start":915.519,"duration":3.721,"text":"can be we ran into a couple little"},{"start":917.16,"duration":5.84,"text":"wrinkles along the way where I had some"},{"start":919.24,"duration":5.64,"text":"typos uh I let the autocomplete AI maybe"},{"start":923.0,"duration":4.279,"text":"get a little bit ahead of itself but all"},{"start":924.88,"duration":4.92,"text":"in all this is a great experience for"},{"start":927.279,"duration":4.961,"text":"learning for the first time how to uh"},{"start":929.8,"duration":4.719,"text":"broadcast refreshes so let's recap very"},{"start":932.24,"duration":5.279,"text":"quickly you can broadcast anything that"},{"start":934.519,"duration":5.361,"text":"happens to this record and all you do is"},{"start":937.519,"duration":3.841,"text":"you put this little tag in your view"},{"start":939.88,"duration":3.92,"text":"that you want to update based on that"},{"start":941.36,"duration":5.8,"text":"record and turbo handles the rest it's"},{"start":943.8,"duration":6.279,"text":"all magic it's all behind the scenes uh"},{"start":947.16,"duration":5.479,"text":"it's happens over a web socket it pushes"},{"start":950.079,"duration":4.88,"text":"uh these refreshes directly to you and"},{"start":952.639,"duration":4.721,"text":"it automatically changes only what it"},{"start":954.959,"duration":5.281,"text":"needs to change in your browser to make"},{"start":957.36,"duration":4.719,"text":"this totally seamless so it looks like"},{"start":960.24,"duration":4.719,"text":"it all happened in your browser but"},{"start":962.079,"duration":4.601,"text":"really it was your typical rail setup so"},{"start":964.959,"duration":4.32,"text":"you get the benefits of everything you"},{"start":966.68,"duration":5.0,"text":"know about rails applying in this"},{"start":969.279,"duration":4.761,"text":"situation with the awesome user"},{"start":971.68,"duration":5.24,"text":"experience that just a little bit of"},{"start":974.04,"duration":5.56,"text":"JavaScript Pizzaz can afford so with"},{"start":976.92,"duration":5.56,"text":"that I think I'm going to leave you with"},{"start":979.6,"duration":4.599,"text":"this to chew on and uh let me know if"},{"start":982.48,"duration":3.799,"text":"you'd like to see more things like this"},{"start":984.199,"duration":4.361,"text":"in the future a little bit more live"},{"start":986.279,"duration":4.92,"text":"coding a little bit more exploratory a"},{"start":988.56,"duration":4.279,"text":"little bit B more uh risky in that you"},{"start":991.199,"duration":3.64,"text":"know this could have gone any number of"},{"start":992.839,"duration":4.56,"text":"ways if it didn't work out but it did"},{"start":994.839,"duration":4.641,"text":"work out and I hope to see you next time"},{"start":997.399,"duration":4.68,"text":"and I will see you next time or at least"},{"start":999.48,"duration":5.0,"text":"more likely if you like this video And"},{"start":1002.079,"duration":4.56,"text":"subscribe follow me uh wherever you're"},{"start":1004.48,"duration":4.719,"text":"at follow me on Twitter follow me on uh"},{"start":1006.639,"duration":6.32,"text":"subscribe on YouTube and uh you have a"},{"start":1009.199,"duration":3.76,"text":"beautiful rest of your day"}]}